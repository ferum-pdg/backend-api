# Configuration Base de données avec Dev Services
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.username=postgres
quarkus.datasource.devservices.password=postgres
quarkus.datasource.devservices.db-name=postgres
quarkus.datasource.devservices.port=55432

# Configuration Hibernate ORM
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.sql-load-script=import.sql
quarkus.hibernate-orm.log.sql=true

# Configuration JWT avec les clés RSA
mp.jwt.verify.publickey.location=META-INF/resources/publicKey.pem
mp.jwt.verify.issuer=ferum
smallrye.jwt.sign.key.location=META-INF/resources/privateKey.pem
smallrye.jwt.new-token.issuer=ferum

# IMPORTANT: Exclure les endpoints publics de JWT
quarkus.http.auth.permission.permit1.paths=/api/auth/*
quarkus.http.auth.permission.permit1.policy=permit

# Configuration CORS
quarkus.http.cors=true
quarkus.http.cors.origins=https://hoppscotch.io,http://localhost:*
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with,origin
quarkus.http.cors.methods=GET,PUT,POST,DELETE,OPTIONS
quarkus.http.cors.access-control-allow-credentials=true

# Désactiver les logs de debug JWT
quarkus.log.category."io.smallrye.jwt".level=INFO
quarkus.log.category."io.quarkus.smallrye.jwt".level=INFO